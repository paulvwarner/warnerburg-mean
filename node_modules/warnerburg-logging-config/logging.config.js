function configureAndRetrieveLogObject(env) {
    if (env == 'development') {
        log.setLevel("debug");
    } else {
        log.setLevel("warn");
    }

    return log;
}

if (typeof module !== 'undefined' && module.exports) {
    // server-side config
    var log = require('loglevel');

    module.exports = function () {
        return configureAndRetrieveLogObject(process.env.NODE_ENV);
    };
} else {
    // client-side config
    configureAndRetrieveLogObject(''+$("#warnerburg-logging-config").attr("data-environment-identifier"));
}